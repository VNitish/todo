<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Keys Management</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="App.css">
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        // Load the main App component
        const { useState, useEffect } = React;
        
        // Import all components (we'll define them inline for the HTML version)
        
        // Sidebar Component
        const Sidebar = ({ onProfileClick }) => {
          return React.createElement('aside', { className: 'sidebar' },
            React.createElement('div', { className: 'sidebar-header' },
              React.createElement('div', { className: 'logo' },
                React.createElement('h2', null, 'zupee')
              )
            ),
            React.createElement('nav', { className: 'sidebar-nav' },
              React.createElement('ul', { className: 'nav-list' },
                React.createElement('li', { className: 'nav-item active' },
                  React.createElement('a', { href: '#', className: 'nav-link' },
                    React.createElement('span', { className: 'nav-icon' }, '🔑'),
                    'API Keys'
                  )
                )
              )
            ),
            React.createElement('div', { className: 'sidebar-footer' },
              React.createElement('div', { className: 'user-profile', onClick: onProfileClick },
                React.createElement('div', { className: 'user-avatar' },
                  React.createElement('span', null, 'N')
                ),
                React.createElement('div', { className: 'user-info' },
                  React.createElement('span', { className: 'user-name' }, 'nitish naidu')
                )
              )
            )
          );
        };

        // API Key Table Component
        const APIKeyTable = ({ apiKeys, onEditKey, onDeleteKey }) => {
          const formatDate = (dateString) => {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'short',
              day: 'numeric'
            });
          };

          const truncateKey = (key) => {
            if (key.length > 20) {
              return `${key.substring(0, 12)}...${key.substring(key.length - 4)}`;
            }
            return key;
          };

          return React.createElement('div', { className: 'table-wrapper' },
            React.createElement('table', { className: 'api-keys-table' },
              React.createElement('thead', null,
                React.createElement('tr', null,
                  React.createElement('th', null, 'NAME'),
                  React.createElement('th', null, 'KEY'),
                  React.createElement('th', null, 'CREATED AT'),
                  React.createElement('th', null, 'CREATED BY'),
                  React.createElement('th', null, 'LAST UPDATED'),
                  React.createElement('th', null, 'TYPE'),
                  React.createElement('th', null, 'ACTIONS')
                )
              ),
              React.createElement('tbody', null,
                apiKeys.length === 0 
                  ? React.createElement('tr', null,
                      React.createElement('td', { colSpan: 7, className: 'no-data' }, 'No API keys found')
                    )
                  : apiKeys.map((key) =>
                      React.createElement('tr', { key: key.id },
                        React.createElement('td', { className: 'key-name' }, key.name),
                        React.createElement('td', { className: 'key-value' },
                          React.createElement('code', null, truncateKey(key.key))
                        ),
                        React.createElement('td', null, formatDate(key.createdAt)),
                        React.createElement('td', null, key.createdBy),
                        React.createElement('td', null, formatDate(key.lastUpdated)),
                        React.createElement('td', null,
                          React.createElement('span', { className: `type-badge ${key.type.toLowerCase()}` }, key.type)
                        ),
                        React.createElement('td', { className: 'actions' },
                          React.createElement('button', {
                            onClick: () => onEditKey(key),
                            className: 'action-btn edit-btn',
                            title: 'Edit API Key'
                          }, '✏️'),
                          React.createElement('button', {
                            onClick: () => onDeleteKey(key.id),
                            className: 'action-btn delete-btn',
                            title: 'Delete API Key'
                          }, '🗑️')
                        )
                      )
                    )
              )
            )
          );
        };

        // Profile Modal Component
        const ProfileModal = ({ onClose }) => {
          return React.createElement('div', { className: 'modal-overlay', onClick: onClose },
            React.createElement('div', { className: 'modal-content', onClick: (e) => e.stopPropagation() },
              React.createElement('div', { className: 'modal-header' },
                React.createElement('h2', null, 'User Profile'),
                React.createElement('button', { onClick: onClose, className: 'close-btn' }, '✕')
              ),
              React.createElement('div', { className: 'profile-content' },
                React.createElement('div', { className: 'profile-avatar-section' },
                  React.createElement('div', { className: 'profile-avatar-large' },
                    React.createElement('span', null, 'N')
                  ),
                  React.createElement('h3', null, 'Nitish Naidu'),
                  React.createElement('p', { className: 'profile-email' }, 'nitish.naidu@zupee.com')
                ),
                React.createElement('div', { className: 'profile-details' },
                  React.createElement('div', { className: 'detail-row' },
                    React.createElement('span', { className: 'detail-label' }, 'Role:'),
                    React.createElement('span', { className: 'detail-value' }, 'Developer')
                  ),
                  React.createElement('div', { className: 'detail-row' },
                    React.createElement('span', { className: 'detail-label' }, 'Department:'),
                    React.createElement('span', { className: 'detail-value' }, 'Engineering')
                  ),
                  React.createElement('div', { className: 'detail-row' },
                    React.createElement('span', { className: 'detail-label' }, 'Joined:'),
                    React.createElement('span', { className: 'detail-value' }, 'January 2024')
                  ),
                  React.createElement('div', { className: 'detail-row' },
                    React.createElement('span', { className: 'detail-label' }, 'Last Login:'),
                    React.createElement('span', { className: 'detail-value' }, 'Today, 2:30 PM')
                  )
                ),
                React.createElement('div', { className: 'profile-actions' },
                  React.createElement('button', { className: 'profile-btn edit-profile-btn' }, 'Edit Profile'),
                  React.createElement('button', { className: 'profile-btn logout-btn' }, 'Logout')
                )
              )
            )
          );
        };

        // Simple API Key Form (simplified for HTML version)
        const SimpleAPIKeyForm = ({ mode, selectedKey, onSave, onClose }) => {
          const [formData, setFormData] = useState({
            name: selectedKey?.name || '',
            description: selectedKey?.description || '',
            type: selectedKey?.type || 'User'
          });

          const handleSubmit = (e) => {
            e.preventDefault();
            onSave(formData);
          };

          return React.createElement('div', { className: 'api-key-form' },
            React.createElement('div', { className: 'form-header' },
              React.createElement('h2', null, mode === 'create' ? 'Create New API Key' : 'Update API Key'),
              React.createElement('button', { onClick: onClose, className: 'close-btn' }, '✕')
            ),
            React.createElement('form', { onSubmit: handleSubmit, className: 'form-content' },
              React.createElement('div', { className: 'details-tab' },
                React.createElement('div', { className: 'form-group' },
                  React.createElement('label', null, 'API Key Name'),
                  React.createElement('input', {
                    type: 'text',
                    value: formData.name,
                    onChange: (e) => setFormData(prev => ({ ...prev, name: e.target.value })),
                    placeholder: 'Enter API key name',
                    required: true
                  })
                ),
                React.createElement('div', { className: 'form-group' },
                  React.createElement('label', null, 'Description'),
                  React.createElement('textarea', {
                    value: formData.description,
                    onChange: (e) => setFormData(prev => ({ ...prev, description: e.target.value })),
                    placeholder: 'Enter description',
                    rows: 3
                  })
                ),
                React.createElement('div', { className: 'form-group' },
                  React.createElement('label', null, 'Type'),
                  React.createElement('div', { className: 'radio-group' },
                    React.createElement('label', { className: 'radio-option' },
                      React.createElement('input', {
                        type: 'radio',
                        name: 'type',
                        value: 'User',
                        checked: formData.type === 'User',
                        onChange: (e) => setFormData(prev => ({ ...prev, type: e.target.value }))
                      }),
                      'User'
                    ),
                    React.createElement('label', { className: 'radio-option' },
                      React.createElement('input', {
                        type: 'radio',
                        name: 'type',
                        value: 'Admin',
                        checked: formData.type === 'Admin',
                        onChange: (e) => setFormData(prev => ({ ...prev, type: e.target.value }))
                      }),
                      'Admin'
                    )
                  )
                )
              ),
              React.createElement('div', { className: 'form-actions' },
                React.createElement('button', { type: 'button', onClick: onClose, className: 'cancel-btn' }, 'Cancel'),
                React.createElement('button', { type: 'submit', className: 'submit-btn' }, mode === 'create' ? 'Create' : 'Update')
              )
            )
          );
        };

        // Main App Component
        const App = () => {
          const [showProfileModal, setShowProfileModal] = useState(false);
          const [showAPIKeyForm, setShowAPIKeyForm] = useState(false);
          const [formMode, setFormMode] = useState('create');
          const [selectedKey, setSelectedKey] = useState(null);
          const [searchQuery, setSearchQuery] = useState('');

          // Sample API keys data
          const [apiKeys, setApiKeys] = useState([
            {
              id: 1,
              name: 'Production API Key',
              key: 'pk_live_51H7...',
              createdAt: '2024-01-15',
              createdBy: 'nitish naidu',
              lastUpdated: '2024-01-20',
              type: 'User',
              description: 'Main production environment key'
            },
            {
              id: 2,
              name: 'Development Key',
              key: 'pk_test_51H8...',
              createdAt: '2024-01-10',
              createdBy: 'admin',
              lastUpdated: '2024-01-18',
              type: 'Admin',
              description: 'Development and testing purposes'
            },
            {
              id: 3,
              name: 'Analytics Key',
              key: 'pk_analytics_51H9...',
              createdAt: '2024-01-05',
              createdBy: 'nitish naidu',
              lastUpdated: '2024-01-12',
              type: 'User',
              description: 'Read-only analytics access'
            },
            {
              id: 4,
              name: 'Mobile App Key',
              key: 'pk_mobile_51H10...',
              createdAt: '2024-01-08',
              createdBy: 'nitish naidu',
              lastUpdated: '2024-01-25',
              type: 'User',
              description: 'Mobile application integration'
            }
          ]);

          const handleCreateKey = () => {
            setFormMode('create');
            setSelectedKey(null);
            setShowAPIKeyForm(true);
          };

          const handleEditKey = (key) => {
            setFormMode('edit');
            setSelectedKey(key);
            setShowAPIKeyForm(true);
          };

          const handleDeleteKey = (keyId) => {
            if (window.confirm('Are you sure you want to delete this API key? This action cannot be undone.')) {
              setApiKeys(apiKeys.filter(key => key.id !== keyId));
            }
          };

          const handleSaveKey = (keyData) => {
            if (formMode === 'create') {
              const newKey = {
                ...keyData,
                id: Math.max(...apiKeys.map(k => k.id)) + 1,
                key: `pk_${keyData.type.toLowerCase()}_${Math.random().toString(36).substr(2, 9)}...`,
                createdAt: new Date().toISOString().split('T')[0],
                createdBy: 'nitish naidu',
                lastUpdated: new Date().toISOString().split('T')[0]
              };
              setApiKeys([...apiKeys, newKey]);
            } else {
              setApiKeys(apiKeys.map(key => 
                key.id === selectedKey.id 
                  ? { ...key, ...keyData, lastUpdated: new Date().toISOString().split('T')[0] }
                  : key
              ));
            }
            setShowAPIKeyForm(false);
          };

          const filteredKeys = apiKeys.filter(key =>
            key.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
            key.key.toLowerCase().includes(searchQuery.toLowerCase()) ||
            key.createdBy.toLowerCase().includes(searchQuery.toLowerCase())
          );

          return React.createElement('div', { className: 'app' },
            React.createElement(Sidebar, { onProfileClick: () => setShowProfileModal(true) }),
            
            React.createElement('main', { className: 'main-content' },
              React.createElement('div', { className: 'api-keys-page' },
                React.createElement('div', { className: 'page-header' },
                  React.createElement('h1', null, 'API Keys')
                ),
                React.createElement('div', { className: 'search-section' },
                  React.createElement('div', { className: 'search-container' },
                    React.createElement('input', {
                      type: 'text',
                      placeholder: 'Search API keys...',
                      value: searchQuery,
                      onChange: (e) => setSearchQuery(e.target.value),
                      className: 'search-input'
                    }),
                    React.createElement('button', {
                      onClick: handleCreateKey,
                      className: 'create-key-btn'
                    }, 'Create Key')
                  )
                ),
                React.createElement('div', { className: 'table-container' },
                  React.createElement(APIKeyTable, {
                    apiKeys: filteredKeys,
                    onEditKey: handleEditKey,
                    onDeleteKey: handleDeleteKey
                  })
                )
              ),

              showAPIKeyForm && React.createElement('div', { className: 'form-overlay' },
                React.createElement('div', { className: 'form-panel' },
                  React.createElement(SimpleAPIKeyForm, {
                    mode: formMode,
                    selectedKey: selectedKey,
                    onSave: handleSaveKey,
                    onClose: () => setShowAPIKeyForm(false)
                  })
                )
              )
            ),

            showProfileModal && React.createElement(ProfileModal, {
              onClose: () => setShowProfileModal(false)
            })
          );
        };

        // Render the app
        const { createRoot } = ReactDOM;
        const root = createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>